function validateOTP(){var e=$mo("input[name=mo_verify]").val();$mo("#moSubmit").html(services_vars.signin_loading).addClass("disabled"),$mo.ajax({url:movars.siteURL+"/?option=miniorange-validate-realeswp-otp",type:"POST",data:{otp:e},crossDomain:!0,dataType:"json",success:function(e){if("success"==e.result)userSignup();else{var s='<div class="alert alert-danger alert-dismissible fade in" role="alert"><div class="icon"><span class="fa fa-ban"></span></div>'+e.message+"</div>";$mo("#signupMessage").empty().append(s),$mo("#moSubmit").removeClass("disabled")}},error:function(e,s,a){}})}function userSignup(){var e=$mo("#usernameSignup").val(),s=$mo("#firstnameSignup").val(),a=$mo("#lastnameSignup").val(),i=$mo("#emailSignup").val(),o=$mo("#phoneSignup").val(),m=$mo("#pass1Signup").val(),n=$mo("#pass2Signup").val(),t=$mo("#register_as_agent").is(":checked"),r=$mo("#terms").is(":checked"),l=$mo("#securitySignup").val(),d=movars.ajaxurl;$mo("#moSubmit").addClass("disabled"),$mo.ajax({type:"POST",dataType:"json",url:d,data:{action:"reales_user_signup_form",signup_user:e,signup_firstname:s,signup_lastname:a,signup_email:i,signup_phone:o,signup_pass_1:m,signup_pass_2:n,register_as_agent:t,terms:r,security:l},success:function(e){if($mo("#moSubmit").removeClass("disabled"),e.signedup===!0){var s='<div class="alert alert-success alert-dismissible fade in" role="alert"><div class="icon"><span class="fa fa-check-circle"></span></div>'+e.message+"</div>";$mo("#signup").modal("hide"),$mo("#signin").modal("show").on("shown.bs.modal",function(e){$mo("#signinMessage").empty().append(s)})}else{var s='<div class="alert alert-danger alert-dismissible fade in" role="alert"><div class="icon"><span class="fa fa-ban"></span></div>'+e.message+"</div>";$mo("#signupMessage").empty().append(s)}},error:function(e){}})}jQuery(document).ready(function(){$mo=jQuery;var e="<div style='display:table;text-align:center;'><img src='"+movars.imgURL+"'></div>",s="<div class='form-group' style='margin-top:2%'><div class='btn-group-justified'><a class='btn btn-lg btn-green' id='miniorange_otp_token_submit' title='Please Enter a "+movars.fieldname+" to enable this.'>Verify your "+movars.fieldname+"</a></div></div><div style='margin-top:2%'><div id='mo_message' hidden='' style='background-color: #f7f6f7;padding: 1em 2em 1em 3.5em;''></div></div>",a='<div class="form-group"><input name="mo_verify" id="mo_verify" placeholder="'+movars.placeHolder+'" class="form-control" type="text"></div>',i='<a class="btn btn-lg btn-green" id="moSubmit">'+movars.buttonText+"</a>";$mo("#submitSignup").replaceWith(i),$mo("#moSubmit").addClass("disabled"),$mo(s).insertAfter(movars.insertAfter),$mo("#miniorange_otp_token_submit").click(function(s){var i=$mo("input[name='"+movars.field+"']").val();$mo("#mo_message").empty(),$mo("#mo_message").append(e),$mo("#mo_message").show(),$mo.ajax({url:movars.siteURL+"/?option=miniorange-realeswp-verify",type:"POST",data:{user_email:i,user_phone:i},crossDomain:!0,dataType:"json",success:function(e){"success"==e.result?($mo("#mo_message").empty(),$mo("#mo_message").append(e.message),$mo("#mo_message").css("border-top","3px solid green"),$mo(a).insertAfter("#mo_message"),$mo("#moSubmit").removeClass("disabled"),$mo("input[name=mo_verify]").focus()):($mo("#mo_message").empty(),$mo("#mo_message").append(e.message),$mo("#mo_message").css("border-top","3px solid red"),$mo("input[name=mo_verify]").focus())},error:function(e,s,a){}})}),$mo("#moSubmit").click(function(){validateOTP()}),$mo("#usernameSignup, #firstnameSignup, #lastnameSignup, #emailSignup, #phoneSignup, #pass1Signup, #pass2Signup").keydown(function(e){13===e.keyCode&&(e.preventDefault(),validateOTP())})});